---
title: "bh1750.py"
description: "A production-quality, robust, and memory-efficient MicroPython driver for the BH1750 I2C ambient light sensor."
technologies: ["MicroPython", "Embedded", "IoT", "Driver"]
state: published
githubUrl: "https://github.com/adyavanapalli/bh1750.py"
blogPostSlug: "writing-a-micropython-driver-that-doesnt-suck-a-bh1750-case-study"
order: 1
---

## Overview

`bh1750.py` is a production-ready MicroPython driver for the BH1750 ambient light sensor that prioritizes reliability, memory efficiency, and robustness.

## Key Features

- **Memory Efficient**: Pre-allocated buffers prevent memory fragmentation
- **Error Handling**: Robust timeout and I2C error handling
- **Production Ready**: Designed for long-running IoT deployments
- **Well Documented**: Clear API with comprehensive docstrings

## Installation

```bash
pip install bh1750-micropython
```

## Usage

```python
from machine import I2C, Pin
from bh1750 import BH1750

i2c = I2C(0, scl=Pin(22), sda=Pin(21))
sensor = BH1750(i2c)

# Read light level in lux
lux = sensor.read()
print(f"Light level: {lux} lux")
```

## Why This Driver?

Most MicroPython sensor drivers are quick prototypes that work in ideal conditions but fail in production. This driver was built from the ground up with real-world constraints in mind:

- Minimal memory allocations
- Graceful error handling
- Proper I2C timeout handling
- No hidden exceptions

Read the [full blog post](/blog/writing-a-micropython-driver-that-doesnt-suck-a-bh1750-case-study) to learn about the design decisions behind this driver.