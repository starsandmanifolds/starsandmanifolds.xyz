/* Self-hosted fonts via Fontsource */
@import "@fontsource/inter/400.css";
@import "@fontsource/inter/500.css";
@import "@fontsource/inter/600.css";
@import "@fontsource/inter/700.css";
@import "@fontsource/fira-code/300.css";
@import "@fontsource/fira-code/400.css";
@import "@fontsource/fira-code/500.css";
@import "@fontsource/fira-code/600.css";
/* Optimized Dancing Script - latin subset only */
@import "$lib/fonts/dancing-script.css";

@import "tailwindcss";
@import "@catppuccin/tailwindcss/mocha.css";

@theme {
  --font-family-sans:
    Inter, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    sans-serif;
  --font-family-mono:
    "Fira Code", "JetBrains Mono", Consolas, Monaco, monospace;
  --font-family-decorative: "Dancing Script", cursive;
}

/* Define utility classes for custom fonts in Tailwind CSS v4 */
@utility font-decorative {
  font-family: var(--font-family-decorative);
}

@layer base {
  /* Smooth transitions for theme changes */
  html {
    @apply transition-colors duration-300;
    /* Always show vertical scrollbar to prevent layout shift */
    overflow-y: scroll;
    /* Force dark theme */
    color-scheme: dark;
  }

  /* Catppuccin Mocha dark theme */
  body {
    background-color: var(--color-ctp-base);
    color: var(--color-ctp-text);
    position: relative;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Selection colors - Catppuccin Mauve */
  ::selection {
    @apply bg-ctp-mauve text-ctp-crust;
  }
}

/* Typography/Prose Styles - Catppuccin Mocha Theme */
.prose {
  color: var(--color-ctp-text);
  max-width: none;
  line-height: 1.75;
}

.prose h1 {
  color: var(--color-ctp-text);
  font-weight: 800;
  font-size: 2.25em;
  margin-top: 0;
  margin-bottom: 0.8888889em;
  line-height: 1.1111111;
}

.prose h2 {
  color: var(--color-ctp-text);
  font-weight: 700;
  font-size: 1.5em;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.3333333;
}

.prose h3 {
  color: var(--color-ctp-text);
  font-weight: 600;
  font-size: 1.25em;
  margin-top: 1.6em;
  margin-bottom: 0.6em;
  line-height: 1.6;
}

.prose h4 {
  color: var(--color-ctp-text);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.5;
}

.prose p {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose a {
  color: var(--color-ctp-mauve);
  text-decoration: underline;
  font-weight: 500;
}

.prose a:hover {
  color: var(--color-ctp-pink);
}

.prose strong {
  color: var(--color-ctp-text);
  font-weight: 600;
}

.prose em {
  font-style: italic;
}

.prose code {
  color: var(--color-ctp-text);
  background-color: var(--color-ctp-surface0);
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-weight: 400;
  font-family: "Fira Code", "JetBrains Mono", Consolas, Monaco, monospace;
  font-variant-ligatures: common-ligatures;
  font-feature-settings:
    "liga" 1,
    "calt" 1;
}

.prose ul {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose ol {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.prose blockquote {
  font-weight: 500;
  font-style: italic;
  color: var(--color-ctp-subtext1);
  border-left-width: 0.25rem;
  border-left-color: var(--color-ctp-surface1);
  quotes: "\201C" "\201D" "\2018" "\2019";
  margin-top: 1.6em;
  margin-bottom: 1.6em;
  padding-left: 1em;
}

/* Code block styling */
.prose pre {
  @apply rounded-lg my-6 p-0 overflow-hidden bg-ctp-mantle;
}

.prose pre code {
  @apply block p-4 overflow-x-auto text-sm;
  background-color: transparent !important;
  color: var(--color-ctp-text) !important;
  font-family:
    "Fira Code", "JetBrains Mono", Consolas, Monaco, monospace !important;
  font-variant-ligatures: common-ligatures !important;
  font-feature-settings:
    "liga" 1,
    "calt" 1 !important;
}

/* Shiki overrides */
.prose .shiki {
  @apply bg-ctp-mantle m-0;
}

.prose .shiki code {
  @apply bg-transparent;
  font-family:
    "Fira Code", "JetBrains Mono", Consolas, Monaco, monospace !important;
  font-variant-ligatures: common-ligatures !important;
  font-feature-settings:
    "liga" 1,
    "calt" 1 !important;
}

/* KaTeX math styling */
.prose .katex {
  color: var(--color-ctp-text);
  font-size: 1.1em;
}

.prose .katex-display {
  @apply my-6;
}

/* Math block background */
.prose .katex-display > .katex {
  @apply bg-ctp-mantle p-4 rounded-lg;
}

/* Global ligature support for all code elements */
code,
pre,
.shiki,
.hljs {
  font-family:
    "Fira Code", "JetBrains Mono", Consolas, Monaco, monospace !important;
  font-variant-ligatures: common-ligatures !important;
  font-feature-settings:
    "liga" 1,
    "calt" 1 !important;
}

/* Catppuccin Mocha Divider */
.divider-space {
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(from var(--color-ctp-blue) l c h / 0.3) 15%,
    oklch(from var(--color-ctp-mauve) l c h / 0.3) 35%,
    oklch(from var(--color-ctp-pink) l c h / 0.3) 65%,
    oklch(from var(--color-ctp-blue) l c h / 0.3) 85%,
    transparent 100%
  );
}
